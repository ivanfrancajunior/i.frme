---
import type { ImageMetadata } from 'astro';
import { Image } from 'astro:assets';

interface Props {
	src: ImageMetadata | string;
	alt: string;
	caption?: string;
    class?: string;
}

const { src, alt, caption, class: className } = Astro.props;
---

<figure class:list={["w-full mb-8", className]}>
    <div class="relative overflow-hidden shadow-lg border-4 border-white bg-gray-100">
        <!-- Render Image appropriately depending on if it's an imported ImageMetadata or string URL -->
        {typeof src === 'string' ? (
            <img src={src} alt={alt} class="w-full h-auto object-cover" />
        ) : (
            <Image src={src} alt={alt} class="w-full h-auto object-cover" />
        )}
    </div>
    {caption && (
        <figcaption class="mt-2 text-center text-sm font-mono text-gray-500 tracking-wider">
            {caption}
        </figcaption>
    )}
</figure>
