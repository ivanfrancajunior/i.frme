---
import { getCollection } from 'astro:content';

const posts = (await getCollection('posts')).sort(
	(a, b) => b.data.pubDate.valueOf() - a.data.pubDate.valueOf()
);
---
<section id="posts" class="flex flex-col w-full max-w-5xl mx-auto mt-10">
    <div class="flex justify-between items-end mb-8 border-b border-white/20 pb-2">
        <span class="text-xs font-sans text-gray-400 uppercase tracking-widest">DIÁRIO DE BORDO</span>
        <span class="text-xs font-sans text-gray-500">2025</span>
    </div>

    <div class="flex flex-col font-condensed text-2xl md:text-4xl uppercase">
        {posts.map((post) => (
            <a href={`/posts/${post.slug}`} class="group border-b border-white/10 py-6 px-4 flex justify-between items-center cursor-pointer transition-colors duration-200 hover:bg-white hover:text-black">
                <span class="font-bold">{post.data.title}</span>
                <span class="text-3xl text-brand-orange group-hover:text-black transform group-hover:rotate-45 transition-transform duration-300">→</span>
            </a>
        ))}

        {posts.length === 0 && (
            <div class="py-10 text-center text-gray-500 font-sans text-sm tracking-widest uppercase">
                Em breve...
            </div>
        )}
    </div>
</section>
